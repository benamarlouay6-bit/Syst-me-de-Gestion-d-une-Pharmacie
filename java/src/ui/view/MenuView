package ui.view;

import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.Label;
import javafx.scene.layout.VBox;
import javafx.stage.Stage;
import ui.utils.Session;

public class MenuView {

    public void start(Stage stage) {

        Label title = new Label("Menu Principal");
        title.getStyleClass().add("title");

        Label roleLabel = new Label(
                "Connecté en tant que : " + Session.getRole()
        );

        Button btnProduits = new Button("Produits");
        Button btnFournisseurs = new Button("Fournisseurs");
        Button btnVentes = new Button("Ventes");
        Button btnRapports = new Button("Rapports");
        Button btnLogout = new Button("Déconnexion");

        btnProduits.setOnAction(e ->
                new ProductView().start(stage)
        );

        btnFournisseurs.setOnAction(e ->
                new FournisseurView().start(stage)
        );

        btnVentes.setOnAction(e ->
                new SaleView().start(stage)
        );

        btnRapports.setOnAction(e ->
                new ReportView().start(stage)
        );

        btnLogout.setOnAction(e ->
                new LoginView().start(stage)
        );

        if (!Session.isAdmin()) {
            btnRapports.setVisible(false);
        }

        VBox root = new VBox(
                15,
                title,
                roleLabel,
                btnProduits,
                btnFournisseurs,
                btnVentes,
                btnRapports,
                btnLogout
        );

        root.getStyleClass().add("container");

        Scene scene = new Scene(root, 400, 450);
        scene.getStylesheets().add("/css/style.css");

        stage.setScene(scene);
        stage.setTitle("Menu");
        stage.show();
    }
}
